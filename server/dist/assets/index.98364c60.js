import{b as e,c as t,p as o,a as s,o as i,d as n,e as r,w as a,v as c,f as l,F as d,r as u,t as p,g as h,h as f,i as m,j as y,k as g}from"./vendor.15bf1887.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var v={data:()=>({showQrcode:!1,ipt:"",list:[]}),mounted(){if(this.getList(),!/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)){console.log("mobile"),this.showQrcode=!0;const t=location.origin;this.$nextTick((()=>{e.toCanvas(t,{errorCorrectionLevel:"H",width:100,height:100},(function(e,t){if(e)throw e;document.getElementById("qrcode").appendChild(t)}))}))}},methods:{getList(){fetch("/api/list",{method:"get",mode:"cors",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e),this.list=e.data||[]}))},copyTxt(e){t(e),this.$notify("复制成功")},send(){const e=this.ipt;console.log(e),e.trim()&&fetch("/api/data",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})}).then((()=>{this.$notify("发送成功")})).catch((()=>{this.$notify({title:"发送失败",type:"error"})}))}}};o("data-v-32faf19d");const b={key:0,class:"qrcode",id:"qrcode"},k=[l("div",null,[l("b",null,"手机扫码")],-1)],w={class:"action"},C=l("h1",null,"复制区",-1),L=["onClick"];s(),v.render=function(e,t,o,s,h,f){return i(),n("div",null,[h.showQrcode?(i(),n("div",b,k)):r("",!0),a(l("textarea",{placeholder:"发送内容","onUpdate:modelValue":t[0]||(t[0]=e=>h.ipt=e),rows:"9",class:"textarea"},null,512),[[c,h.ipt]]),l("div",w,[l("button",{onClick:t[1]||(t[1]=(...e)=>f.send&&f.send(...e)),class:"send"},"发送"),l("button",{class:"clear",onClick:t[2]||(t[2]=e=>h.ipt="")},"清除")]),C,(i(!0),n(d,null,u(h.list,(e=>(i(),n("div",{class:"item",onClick:t=>f.copyTxt(e),key:e},p(e),9,L)))),128))])},v.__scopeId="data-v-32faf19d";const T=l("h1",{class:"title"},"Sender",-1);const S=y(h({setup:e=>(e,t)=>{const o=f("notifications");return i(),n("div",null,[T,m(o,{duration:300}),m(v,{msg:"Hello Vue 3 + TypeScript + Vite"})])}}));S.use(g),S.mount("#app");
