import{b as t,c as e,p as o,a as s,o as i,d as n,e as r,w as a,v as c,f as l,F as d,r as p,t as h,g as u,h as f,i as m,j as y,k as g}from"./vendor.15bf1887.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const o of t)if("childList"===o.type)for(const t of o.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var v={data:()=>({showQrcode:!1,ipt:"",list:["https://www.baidu.com","http://192.168.2.205:3002/school","https://fat-activityh5.divtoss.com/school","aaa"]}),mounted(){if(this.getList(),!/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)){console.log("mobile"),this.showQrcode=!0;const e=location.origin;this.$nextTick((()=>{t.toCanvas(e,{errorCorrectionLevel:"H",width:100,height:100},(function(t,e){if(t)throw t;document.getElementById("qrcode").appendChild(e)}))}))}},methods:{getList(){fetch("/api/list",{method:"get",mode:"cors",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{console.log(t),this.list=t.data||[]}))},copyTxt(t){e(t),this.$notify("复制成功")},send(){const t=this.ipt;console.log(t),t.trim()&&fetch("/api/data",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})}).then((()=>{this.$notify("发送成功")})).catch((()=>{this.$notify({title:"发送失败",type:"error"})}))}}};o("data-v-c892d972");const b={key:0,class:"qrcode",id:"qrcode"},w=[l("div",null,[l("b",null,"手机扫码")],-1)],k={class:"action"},C=l("h1",null,"复制区",-1),L=["onClick"];s(),v.render=function(t,e,o,s,u,f){return i(),n("div",null,[u.showQrcode?(i(),n("div",b,w)):r("",!0),a(l("textarea",{placeholder:"发送内容","onUpdate:modelValue":e[0]||(e[0]=t=>u.ipt=t),rows:"9",class:"textarea"},null,512),[[c,u.ipt]]),l("div",k,[l("button",{onClick:e[1]||(e[1]=(...t)=>f.send&&f.send(...t)),class:"send"},"发送"),l("button",{class:"clear",onClick:e[2]||(e[2]=t=>u.ipt="")},"清除")]),C,(i(!0),n(d,null,p(u.list,(t=>(i(),n("div",{class:"item",onClick:e=>f.copyTxt(t),key:t},h(t),9,L)))),128))])},v.__scopeId="data-v-c892d972";const T=l("h1",{class:"title"},"Sender",-1);const S=y(u({setup:t=>(t,e)=>{const o=f("notifications");return i(),n("div",null,[T,m(o,{duration:300}),m(v,{msg:"Hello Vue 3 + TypeScript + Vite"})])}}));S.use(g),S.mount("#app");
