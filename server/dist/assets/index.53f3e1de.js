import{b as f,c as y,o as u,a as l,d as m,w as _,v,e as i,F as g,r as C,f as T,t as b,g as k,p as x,h as D,i as w,j as S,k as a,l as B,m as L}from"./vendor.f5f6c58c.js";const N=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}};N();var O=(e,o)=>{for(const[c,r]of o)e[c]=r;return e};const A={data(){return{showQrcode:!1,ipt:"",list:[]}},mounted(){if(this.getList(),!/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)){console.log("mobile"),this.showQrcode=!0;const e=location.origin;this.$nextTick(()=>{f.toCanvas(e,{errorCorrectionLevel:"H",width:100,height:100},function(o,c){if(o)throw o;var r=document.getElementById("qrcode");r.appendChild(c)})})}},methods:{getList(){fetch("/api/list",{method:"get",mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e),this.list=e.data||[]})},copyTxt(e){y(e),this.$notify("\u590D\u5236\u6210\u529F")},sendToCY(){const e=this.ipt;console.log(e),!!e.trim()&&fetch("/api/add",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})}).then(()=>{this.getList(),this.$notify("\u53D1\u9001\u6210\u529F")}).catch(()=>{this.$notify({title:"\u53D1\u9001\u5931\u8D25",type:"error"})})},remove(e){fetch("/api/data",{method:"delete",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})}).then(()=>{this.getList(),this.$notify("\u5220\u9664\u6210\u529F")}).catch(()=>{this.$notify({title:"\u5220\u9664\u5931\u8D25",type:"error"})})},send(){const e=this.ipt;console.log(e),!!e.trim()&&fetch("/api/data",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})}).then(()=>{}).then(()=>{this.$notify("\u53D1\u9001\u6210\u529F")}).catch(()=>{this.$notify({title:"\u53D1\u9001\u5931\u8D25",type:"error"})})}}},d=e=>(x("data-v-3f7342c7"),e=e(),D(),e),F={key:0,class:"qrcode",id:"qrcode"},j=d(()=>i("div",null,[i("b",null,"\u624B\u673A\u626B\u7801")],-1)),P=[j],V={class:"action"},I=d(()=>i("h1",null,"\u590D\u5236\u533A",-1)),$=["onClick"],q=["onClick"];function E(e,o,c,r,t,n){return u(),l("div",null,[t.showQrcode?(u(),l("div",F,P)):m("",!0),_(i("textarea",{placeholder:"\u53D1\u9001\u5185\u5BB9","onUpdate:modelValue":o[0]||(o[0]=s=>t.ipt=s),rows:"9",class:"textarea"},null,512),[[v,t.ipt]]),i("div",V,[i("button",{onClick:o[1]||(o[1]=(...s)=>n.send&&n.send(...s)),class:"send"},"\u53D1\u9001"),i("button",{onClick:o[2]||(o[2]=(...s)=>n.sendToCY&&n.sendToCY(...s)),class:"send"},"\u6DFB\u52A0\u5230\u590D\u5236\u533A"),i("button",{class:"clear",onClick:o[3]||(o[3]=s=>t.ipt="")},"\u6E05\u9664")]),I,(u(!0),l(g,null,C(t.list,s=>(u(),l("div",{class:"item",onClick:h=>n.copyTxt(s),key:s},[T(b(s)+" ",1),i("span",{onClick:k(h=>n.remove(s),["stop"]),class:"remove"},"\u2014",8,q)],8,$))),128))])}var H=O(A,[["render",E],["__scopeId","data-v-3f7342c7"]]);const J=i("h1",{class:"title"},"Sender",-1),M=w({setup(e){return(o,c)=>{const r=S("notifications");return u(),l("div",null,[J,a(r,{duration:300}),a(H,{msg:"Hello Vue 3 + TypeScript + Vite"})])}}}),p=B(M);p.use(L);p.mount("#app");
